<li class="list-none">
  <div class="h-64 max-w-xs mx-auto rounded overflow-hidden border border-gray-300 shadow-md p-4">
    <% if post.image? %>
      <%= image_tag post.image.url, size: "150x150", class:"mx-auto" %>
    <% end %>
    <div class="post-info py-4 text-center">
      <%= link_to post.name, post_path(post), class:"block h-8 font-light text-md mb-2 text-gray-700" %>
      <div class="tags">
        <% post.tags.each do |tag| %>
          <div class="tag inline-block rounded-full border-yellow-500 mr-2 text-gray-500 hover:text-gray-700">
            <%= link_to "##{tag.name}", tag_path(tag) %> </div>
        <% end %>
      </div>
      <% if user_signed_in?%>
        <% if post.user != current_user %>
          <div id="favorite-button-<%= post.id %>">
            <%= render partial: 'favorites/favorite', locals: {post: post} %>
          </div>
        <% end %>
        <%= link_to post_meal_records_path(post_id: post.id, post_name: post.name, post_protein: post.protein, post_fat: post.fat, post_carbo: post.carbo, post_calorie: post.calorie), method: :post, data: { confirm: "#{Date.today}の食事記録に追加しますか？" } do %>
          <i class="far fa-calendar-plus fa-lg"></i>
        <% end %>
      <% end %>

      <% if user_signed_in? && post.user == current_user  %>
        <div class="mt-3">
          <%= link_to edit_post_path(post) do %>
            <i class="far fa-edit mr-3"></i>
          <% end %>
          <%= link_to post_path(post), method: :delete, data: { confirm: "本当に削除しますか？" } do %>
            <i class="far fa-trash-alt"></i>
          <% end %>
        </div>
      <% end %>
    </div>
  </div>
</li>
